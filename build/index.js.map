{"version":3,"file":"index.js","mappings":"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","sources":["webpack://blocks-course-plugin/./src/todos-store/actions.js","webpack://blocks-course-plugin/./src/todos-store/controls.js","webpack://blocks-course-plugin/./src/todos-store/index.js","webpack://blocks-course-plugin/./src/todos-store/reducer.js","webpack://blocks-course-plugin/./src/todos-store/resovers.js","webpack://blocks-course-plugin/./src/todos-store/selectors.js","webpack://blocks-course-plugin/./src/todos-store/types.js","webpack://blocks-course-plugin/external window [\"wp\",\"data\"]","webpack://blocks-course-plugin/webpack/bootstrap","webpack://blocks-course-plugin/webpack/runtime/compat get default export","webpack://blocks-course-plugin/webpack/runtime/define property getters","webpack://blocks-course-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://blocks-course-plugin/webpack/runtime/make namespace object"],"sourcesContent":["import { dispatch } from \"@wordpress/data\";\r\nimport { createTodo, toggleTodo as toggleTodoControl } from \"./controls\"\r\nimport { ADD_TODO, POPULATE_TODOS, UPDATE_TODO } from \"./types\"\r\n\r\nexport function* addTodo(title) {\r\n    try {\r\n        const todo =  yield createTodo(title);\r\n        return {\r\n            type: ADD_TODO,\r\n            todo,\r\n        }\r\n    }catch(error){\r\n        return dispatch('core/notices').createErrorNotice(\r\n            error.message || 'Could not create todo.'\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport function* toggleTodo(todo, index){\r\n    try {\r\n        yield updateTodo({ ...todo, loading: true }, index);\r\n        const updatedTodo = yield toggleTodoControl(todo);\r\n        return updateTodo(updatedTodo, index)\r\n    } catch (error) {\r\n        return dispatch('core/notices').createErrorNotice(\r\n            error.message || 'Could not update todo.'\r\n        )\r\n    }\r\n}\r\n\r\nexport const updateTodo = (todo, index) => {\r\n    return {\r\n        type: UPDATE_TODO,\r\n        index,\r\n        todo\r\n    }\r\n}\r\n\r\nexport const populateTodos = (todos) => {\r\n    return {\r\n        type: POPULATE_TODOS,\r\n        todos\r\n    }\r\n}","import { FETCH_TODOS, CREATE_TODO, TOGGLE_TODO } from \"./types\"\r\n\r\nexport const fetchTodos = () => {\r\n    return {\r\n        type: FETCH_TODOS\r\n    }\r\n}\r\n\r\nexport const createTodo = (title) => {\r\n    return {\r\n        type: CREATE_TODO,\r\n        title\r\n    }\r\n};\r\n\r\nexport const toggleTodo = (todo) => {\r\n    return {\r\n        type: TOGGLE_TODO,\r\n        todo\r\n    }\r\n}\r\n\r\nexport default {\r\n    FETCH_TODOS() {\r\n        return window.fetch('https://jsonplaceholder.typicode.com/todos?_limit=10')\r\n        .then((response)=> {\r\n            if(response.ok){\r\n                return response.json();\r\n            }\r\n            throw new Error('Could not fetch todos')\r\n        });\r\n    },\r\n    CREATE_TODO({ title }){\r\n        return window.fetch('https://jsonplaceholder.typicode.com/todos', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n              title,\r\n              completed: false,\r\n              userId: 1,\r\n            }),\r\n            headers: {\r\n              'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n        })\r\n        .then((response) => {\r\n            if(response.ok){\r\n                return response.json();\r\n            }\r\n            throw new Error('Could not create todo.')\r\n        });\r\n    },\r\n    TOGGLE_TODO({ todo }) {\r\n        return window.fetch(`https://jsonplaceholder.typicode.com/todos/${todo.id}`, {\r\n                    method: 'PATCH',\r\n                    body: JSON.stringify({\r\n                      completed: !todo.completed,\r\n                    }),\r\n                    headers: {\r\n                      'Content-type': 'application/json; charset=UTF-8',\r\n                    },\r\n          })\r\n          .then((response) => {\r\n            if(response.ok){\r\n                return response.json();\r\n            }\r\n            throw new Error('Could not update todo.')\r\n        });\r\n    }\r\n}","import { createReduxStore, register } from \"@wordpress/data\";\r\nimport reducer from \"./reducer\";;\r\nimport * as selectors from \"./selectors\";\r\nimport * as actions from \"./actions\";\r\nimport * as resolvers from \"./resovers\"\r\nimport controls from \"./controls\";\r\n\r\nconst store = createReduxStore('block-course/todos', {\r\n  reducer,\r\n  selectors,\r\n  actions,\r\n  resolvers,\r\n  controls\r\n});\r\n\r\nregister(store);","import { ADD_TODO, POPULATE_TODOS, UPDATE_TODO } from \"./types\";\r\n\r\nconst DEFAULT_STATE = {\r\n    items: [],\r\n};\r\n\r\nconst reducer = ( state = DEFAULT_STATE, action ) => {\r\n    switch (action.type) {\r\n        case ADD_TODO:\r\n            return {...state, items: [...state.items, action.todo] };\r\n\r\n        case POPULATE_TODOS:\r\n            return {...state, items: action.todos}\r\n\r\n        case UPDATE_TODO: {\r\n            const itemsCopy = [...state.items];\r\n            itemsCopy[action.index] = action.todo;\r\n            return {...state, items: itemsCopy};\r\n        }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { fetchTodos } from \"./controls\";\r\nimport { populateTodos } from \"./actions\";\r\nimport { dispatch } from \"@wordpress/data\";\r\n\r\nexport function* getTodos() {\r\n    try{\r\n        const todos = yield fetchTodos();\r\n        return populateTodos(todos);\r\n    } catch (error) {\r\n        return dispatch('core/notices').createErrorNotice(\r\n            error.message || 'Could not fetch todos.'\r\n        )\r\n    }\r\n    \r\n}","export const getTodos= (state) => {\r\n    return state.items;\r\n};\r\n\r\nexport const getTodosNumber = (state) => {\r\n    return state.items.length;\r\n}\r\n\r\nexport const getDoneTodos = (state) => {\r\n    return state.items.filter((todo)=> todo.completed).length;\r\n}\r\n\r\nexport const getUnDoneTodos = (state) => {\r\n    return state.items.filter((todo)=> !todo.completed).length;\r\n}","export const ADD_TODO = 'ADD_TODO';\r\nexport const FETCH_TODOS = 'FETCH_TODOS';\r\nexport const POPULATE_TODOS = 'POPULATE_TODOS';\r\nexport const CREATE_TODO = 'CREATE_TODO';\r\nexport const TOGGLE_TODO = 'TOGGLE_TODO';\r\nexport const UPDATE_TODO = 'UPDATE_TODO';","module.exports = window[\"wp\"][\"data\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["dispatch","createTodo","toggleTodo","toggleTodoControl","ADD_TODO","POPULATE_TODOS","UPDATE_TODO","addTodo","title","todo","type","error","createErrorNotice","message","index","updateTodo","loading","updatedTodo","populateTodos","todos","FETCH_TODOS","CREATE_TODO","TOGGLE_TODO","fetchTodos","window","fetch","then","response","ok","json","Error","method","body","JSON","stringify","completed","userId","headers","id","createReduxStore","register","reducer","selectors","actions","resolvers","controls","store","DEFAULT_STATE","items","state","action","itemsCopy","getTodos","getTodosNumber","length","getDoneTodos","filter","getUnDoneTodos"],"sourceRoot":""}